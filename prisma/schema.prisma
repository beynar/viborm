// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider        = "prisma-client"
  output          = "../generated/prisma"
  previewFeatures = ["driverAdapters", "relationJoins"]
}

datasource db {
  provider      = "postgresql"
  relationMode  = "prisma"
  datasourceUrl = env("DATABASE_URL")
}

enum Enum {
  A
  B
  C
}

model User {
  id       String   @id
  name     String
  birthday DateTime
  post     Post[]
}

model Post {
  id       String @id
  title    String
  content  String
  author   User   @relation(fields: [authorId], references: [id])
  authorId String
}

model Example {
  string            String
  nullableString    String?
  stringAsId        String   @id
  stringWithDefault String   @default("default")
  arrayOfStrings    String[]

  // Number
  number            Int
  nullableNumber    Int?
  numberAsId        Int
  numberWithDefault Int   @default(1)
  arrayOfNumbers    Int[]

  // Boolean
  boolean            Boolean
  nullableBoolean    Boolean?
  booleanAsId        Boolean
  booleanWithDefault Boolean   @default(true)
  arrayOfBooleans    Boolean[]

  // BigInt
  bigint            BigInt
  nullableBigInt    BigInt?
  bigintAsId        BigInt
  bigintWithDefault BigInt   @default(1)
  arrayOfBigInts    BigInt[]

  // DateTime
  dateTime            DateTime
  nullableDateTime    DateTime?
  dateTimeAsId        DateTime
  dateTimeWithDefault DateTime   @default(now())
  arrayOfDateTimes    DateTime[]

  // Json
  json            Json
  nullableJson    Json?
  jsonAsId        Json
  jsonWithDefault Json   @default("{}")
  arrayOfJsons    Json[]

  // Enum
  enum            Enum
  nullableEnum    Enum?
  enumAsId        Enum
  enumWithDefault Enum   @default(A)
  arrayOfEnums    Enum[]

  // Relation
  oneToOne    OneToOne     @relation(fields: [oneToOneId], references: [id])
  oneToMany   OneToMany[]
  manyToOne   ManyToOne    @relation(fields: [manyToOneId], references: [id])
  manyToMany  ManyToMany[]
  oneToOneId  String
  manyToOneId String
}

model OneToOne {
  id       String    @id @default(uuid())
  examples Example[]
}

model OneToMany {
  id                String   @id @default(uuid())
  example           Example? @relation(fields: [exampleStringAsId], references: [stringAsId])
  exampleStringAsId String?
}

model ManyToOne {
  id       String    @id @default(uuid())
  examples Example[]
}

model ManyToMany {
  id   String @id @default(uuid())
  name String @unique

  // Relations

  example           Example? @relation(fields: [exampleStringAsId], references: [stringAsId])
  exampleStringAsId String?
}
